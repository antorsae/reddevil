BASE0	EQU $F0000
BASE1	EQU $F8000
	CLR.L -(A7)
	MOVE.W #$20,-(A7)
	TRAP #1
	LEA $2000,A7
	BSR SINT
	BSR PPIC
	CLR.B FLAG
WAIT	CLR.B SYNC
VSYNC	TST.B SYNC
	BEQ.S VSYNC
	* BSR SCROLL
	TST.B FLAG
	BEQ.S WAIT
	BSR GINT
	CLR.L -(A7)
	TRAP #1
SINT	MOVE.W #$2700,SR
	LEA INTS(PC),A0
	MOVE.L $70.W,(A0)+
	MOVE.L $120.W,(A0)+
	MOVE.B $FFFFFA07.W,(A0)+
	MOVE.B $FFFFFA09.W,(A0)+
	MOVE.B $FFFFFA13.W,(A0)+
	MOVE.B $FFFF8203.W,(A0)+
	MOVE.B $FFFF8201.W,(A0)+
	MOVE.W #$2300,SR
	RTS
GINT	MOVE.W #$2700,SR
	LEA INTS(PC),A0
	MOVE.L (A0)+,$70.W
	MOVE.L (A0)+,$120.W
	MOVE.B (A0)+,$FFFFFA07.W
	MOVE.B (A0)+,$FFFFFA09.W
	MOVE.B (A0)+,$FFFFFA13.W
	MOVE.B (A0)+,$FFFF8203.W
	MOVE.B (A0)+,$FFFF8201.W
	MOVE.W #$2700,SR
	RTS
PPIC	LEA PIC+34(PC),A0
	LEA BASE1,A1
	MOVE.W #(32000/8)-1,D0
GFTGH	MOVE.L (A0)+,(A1)+
	MOVE.L (A0)+,(A1)+
	DBF D0,GFTGH
	RTS
INTS	DS.L 4
SYNC	DS.B 1
FLAG	DS.B 1
PIC	INCBIN 'TRAPERO.PI1'	
	 