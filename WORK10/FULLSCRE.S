** CLARIFICACIONES: UNA LINEA NORMAL
** "MIDE" $A0 BYTES, EN FULLSCREEN ES
** DIFERENTE: LAS 2 PRIMERAS LINEAS DE
** SCAN MIDEN $B0 BYTES Y A PARTIR DE 
** AHI MIDEN $E6 BYTES...HASTA QUE 
** DURE EL LOOP DE OVERSCAN, ES DECIR
** MIDE $E6 POR LOS DOS LADOS, Y MIDE
** $CC BYTES CUANDO YA SOLO ES POR 
** UN LADO (DERECHO). PARA MAYOR CLARIDAD
** MIRAR PONIENDO EN SCREEN EL VALOR 
** $F0000  

LIX1	EQU $E6
LIX2	EQU $CC
LIX3	EQU $BA
	CLR.L -(A7)
	MOVE.W #$20,-(A7)
	TRAP #1
	LEA $2000,A7
	LEA $F0000,A0
	LEA $F8000+$7D00,A1
LOKJ	CLR.L (A0)+
	CLR.L (A0)+
	CMPA.L A0,A1
	BGT.S LOKJ
	LEA $F0000+(LIX1*49)+((160+(8*2)-4)*2),A0
	MOVEQ #-1,D1
	MOVE.W #LIX1-1,D0
JK	MOVE.B D1,(A0)+
	DBF D0,JK
	LEA $F0000+(LIX1*50)+(LIX2*49)+((160+(8*2)-4)*2),A0
	MOVEQ #-1,D1
	MOVE.W #LIX2-1,D0
JKS	MOVE.B D1,(A0)+
	DBF D0,JKS
	LEA $F0000+(LIX1*50)+(LIX2*50)+(LIX3*49)+((160+(8*2)-4)*2),A0
	MOVEQ #-1,D1
	MOVE.W #LIX3-1,D0
JKSW	MOVE.B D1,(A0)+
	DBF D0,JKSW
	BSR SINT
VSYNC	CLR.B SYNC
WAIT	TST.B SYNC
	BEQ.S WAIT
	MOVE.L SCREEN,D0
	LSR.L #8,D0
	MOVE.B D0,$FFFF8203.W
	LSR.W #8,D0
	MOVE.B D0,$FFFF8201.W
	CMP.B #$39,$FFFFFC02.W
	BNE.S VSYNC
	BSR RINT
	CLR.L -(A7)
	TRAP #1
SCREEN 	DC.L $20000
SINT	MOVE.W #$2700,SR
	LEA INTS,A0
	MOVE.L $70.W,(A0)+
	MOVE.B $FFFFFA07.W,(A0)+
	MOVE.B $FFFFFA09.W,(A0)+
	MOVE.B $FFFF8260.W,(A0)+
	MOVE.B $FFFF820A.W,(A0)+
	MOVE.W $FFFF8240.W,(A0)+
	CLR.B $FFFFFA07.W
	CLR.B $FFFFFA09.W
	MOVE.L #FULLVBL,$70.W
	MOVE.W #$2300,SR
	RTS
RINT	MOVE.W #$2700,SR
	LEA INTS,A0
	MOVE.L (A0)+,$70.W
	MOVE.B (A0)+,$FFFFFA07.W
	MOVE.B (A0)+,$FFFFFA09.W
	MOVE.B (A0)+,$FFFF8260.W
	MOVE.B (A0)+,$FFFF820A.W
	MOVE.W (A0)+,$FFFF8240.W
	MOVE.W #$2300,SR
	RTS
INTS	DS.L 3
FULLVBL	MOVEM.L D0-D7/A0-A6,-(A7)
	LEA $FFFF8209.W,A0
	LEA $FFFF8260.W,A1
	MOVEQ	#0,D1
	MOVEQ	#$10,D2
	MOVEQ	#2,D3
	MOVEQ	#0,D4
	MOVE.W #10-1,D6
	MOVE.W #3-1,D7
	MOVE.W #2-1,D5
	MOVE.W	#$2700,SR
	MOVEQ	#8,D0
WAIT1	DBF	D0,WAIT1
	MOVE.W	#$777,$FFFF8240.W
	CLR.B	$FFFF820A.W
	MOVEQ	#3,D0
WAIT2	NOP
	DBF	D0,WAIT2
	MOVE.W	#2,$FFFF820A.W
	MOVE.W	#$777,$FFFF8240.W
COUNT1	MOVE.B	(A0),D0
	BEQ.S	COUNT1
	SUB.W	D0,D2
	LSL.W	D2,D1
	LEA $FFFF820A.W,A0
	REPT 85
	NOP
	ENDR
MAINLO1	REPT 10
	NOP
	ENDR
	MOVE.B	D3,(A1)
	MOVE.B	D4,(A1)
	REPT 89
	NOP
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT 13
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	DBF	D6,MAINLO1
	BRA.S COLOCA1
MAINLO2	REPT 4
	NOP
	ENDR
COLOCA1	REPT 6
	NOP
	ENDR
	MOVE.B	D3,(A1)
	MOVE.B	D4,(A1)
	REPT 90+13+8
	NOP
	ENDR
	DBF D7,MAINLO2
	BRA.S COLOCA2
MAINLO3	REPT 4
	NOP
	ENDR
COLOCA2	REPT 6+4
	NOP
	ENDR
	REPT 89
	NOP
	ENDR
	MOVE.B	D4,(A0)
	MOVE.B	D3,(A0)
	REPT 13
	NOP
	ENDR
	MOVE.B	D3,(A1)
	NOP
	MOVE.B	D4,(A1)
	DBF D5,MAINLO3
EVBL	MOVEM.L (A7)+,D0-D7/A0-A6
	ST SYNC
	RTE
SYNC	DS.W 1