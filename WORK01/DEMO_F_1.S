* TD_DEMO1 (C) RED DEVIL, GAL & SCRATCHIN
* 
* SE DEBE SUSTITUIR EL $F6000 POR $76000
* 
* QUITAR TAMBIEN EL TRAP DE SUPERVISOR 
*
* SELECCIONA EN....
*
* EN EL $90.B  :$00-INGLES
*		$FF-ESPA¥OL
* EN EL $91.B  :$00-NORMAL
*		$FF-DEMO (1 MINUTO) 
 
 
LE1	EQU $F6000-16+(174*160)
LE2	EQU $F6000+(3*8)-16+(174*160)
LE3	EQU $F6000+((3*8)*2)-16+(174*160)
LE4	EQU $F6000+((3*8)*3)-16+(174*160)
LE5	EQU $F6000+((3*8)*4)-16+(174*160)
LE6	EQU $F6000+((3*8)*5)-16+(174*160)
LE7	EQU $F6000+((3*8)*6)-16+(174*160)
NU_H	EQU 29 ;TAMA¥O EN Y
NU_V	EQU 5 ;TIENE 5 ROWS
NU0_H	EQU 39
L1	EQU 61
L2 	EQU 42
L3 	EQU 49
L4	EQU 44 
	BRA CODE
	DC.B 'ANDRES TORRUBIA SAEZ  '
	DC.B '    CODIGO:RED        ' 
	DC.B 'APTO 566-ALICANTE     '	
CODE	CLR.L -(A7)
	MOVE.W #$20,-(A7)
	TRAP #1
	LEA 6(A7),A7
	LEA $2000,A7
	MOVE.B $FFFF8201.W,OLD01
	MOVE.B $FFFF8203.W,OLD03
	MOVE.L #$F6000,D0
	LSR.L #8,D0
	MOVE.B D0,$FFFF8203.W
	LSR.W #8,D0
	MOVE.B D0,$FFFF8201.W
	MOVEM.L BASURA,D0-D7
	MOVEM.L D0-D7,$FFFF8240.W
	BSR CL_PLAY
	BSR ST_LI
	BSR C_PAL
	BSR HAZ_RO
	BSR C_TAPA
	BSR SET_TEX
	LEA PIC+34+(161*160),A0
	LEA $F6000,A1
	BSR C_BUF1
	BSR GUARDA
	BSR STDAT
	BSR ROTTO
	LEA PIC+34,A0
	LEA $F6000,A1
	BSR DEPACK
	BSR GUARD
	BSR ST_DAT
	BSR S_DATD
	BSR RTATO
	LEA PIC+34,A0
	LEA $F6000,A1
	BSR DEPACK
	BSR C_DOWN
	BSR CLS_L
	MOVEM.L PIC+2,D0-D7
	MOVEM.L D0-D7,$FFFF8240.W	
	MOVE.W #100*9,TIMER ;1 MINUTO JUSTO 
	BSR PUTSONG
ME	TST.B $91
	BEQ MEA 
	SUBQ.W #1,TIMER
MEA	CLR.B SIN
	TST.B SIN
	BEQ MEA
	TST.W TIMER 
	BEQ OUT_THE
	MOVE.B $FFFFFC02,D0
	CMP.B #$39,D0
	BNE ME
OUT_THE	BSR QUITSNG
	CLR.L -(A7)
	TRAP #1
OLD01	DS.B 1
OLD03	DS.B 1
INC_8	DS.L 1
INC_S	DS.L 1
C_SCR	DC.W 0
CER	DC.W 0
CL_PLAY	LEA $F6000,A0
	LEA $F6000+$2000+$7D00,A1
B_PLAY	MOVE.L #0,(A0)+
	MOVE.L #0,(A0)+
	CMPA.L A0,A1
	BGT B_PLAY
	RTS
C_PAL	MOVEM.L FONT+2,D0-D7
	MOVEM.L D0-D7,PAL3
	RTS
C_TAPA	LEA FONT+34+(160*25*5),A0
	LEA TAPADE,A1
	REPT 26
	MOVE.L (A0),(A1)+
	MOVE.L 4(A0),(A1)+
	LEA 160(A0),A0
	ENDR
	RTS
SCROLL	MOVE.W C_SCR,D0
	LEA TEXT_P,A0
	LEA 0(A0,D0.W),A0
	MOVE.L 8*4(A0),D0
	BPL NADA
	MOVE.W #0,C_SCR
	LEA TEXT_P,A0
NADA	ADDQ.W #1,CER
	CMP.W #1,CER
	BEQ P1
	CMP.W #2,CER
	BEQ P2
	CMP.W #3,CER
	BEQ P3
	CMP.W #4,CER
	BEQ P4
	CMP.W #5,CER
	BEQ P5
	MOVE.W #0,CER
	ADDQ.W #4,C_SCR
	MOVE.L #0,INC_S
	MOVE.L #0,INC_8
	BRA PUTALL
P1	MOVE.L #16,INC_S
	MOVE.L #25*8*3,INC_8
	BRA PUTALL
P2	MOVE.L #16,INC_S
	MOVE.L #0,INC_8
	BRA PUTALL
P3	MOVE.L #8,INC_S
	MOVE.L #25*8*3,INC_8
	BRA PUTALL
P4	MOVE.L #8,INC_S
	MOVE.L #0,INC_8
	BRA PUTALL
P5	MOVE.L #0,INC_S
	MOVE.L #25*8*3,INC_8
	BRA PUTALL
PUTALL	ADDQ.W #4,COU_D
	MOVE.W COU_D,D0
	LEA DATA_L,A6
	LEA 0(A6,D0.W),A6
	MOVE.L (A6),D0
	CMP.L #-1,D0
	BNE NOHHH
	CLR.L COU_D
	LEA DATA_L,A6
	MOVE.L (A6),D0
NOHHH	ADD.L D0,LU1
	ADD.L D0,LU2
	ADD.L D0,LU3
	ADD.L D0,LU4
	ADD.L D0,LU5
	ADD.L D0,LU6
	ADD.L D0,LU7
	MOVEA.L LU1,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU2,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU3,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU4,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU5,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU6,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU7,A2
	ADD.L INC_S,A2
	MOVE.L (A0)+,A1
	ADD.L INC_8,A1
	BSR PUTLLE
	MOVEA.L LU1,A2
	ADDA.L #16,A2
	BSR P_TAPA
	MOVEA.L LU7,A2
	ADDA.L #16+8,A2
	BSR P_TAPA
	MOVEA.L LU7,A2
	ADDA.L #16-(1*160),A2
	MOVEM.L BASURA,D0-D3
	MOVEM.L D0-D3,(A2)
	RTS
LU1	DC.L LE1
LU2	DC.L LE2
LU3	DC.L LE3
LU4	DC.L LE4
LU5	DC.L LE5
LU6	DC.L LE6
LU7	DC.L LE7
P_TAPA	LEA TAPADE,A1
	MOVE.L (A1)+,(A2)
	MOVE.L (A1)+,4(A2)
	MOVE.L (A1)+,(160*1)(A2)
	MOVE.L (A1)+,(160*1)+4(A2)
	MOVE.L (A1)+,(160*2)(A2)
	MOVE.L (A1)+,(160*2)+4(A2)
	MOVE.L (A1)+,(160*3)(A2)
	MOVE.L (A1)+,(160*3)+4(A2)
	MOVE.L (A1)+,(160*4)(A2)
	MOVE.L (A1)+,(160*4)+4(A2)
	MOVE.L (A1)+,(160*5)(A2)
	MOVE.L (A1)+,(160*5)+4(A2)
	MOVE.L (A1)+,(160*6)(A2)
	MOVE.L (A1)+,(160*6)+4(A2)
	MOVE.L (A1)+,(160*7)(A2)
	MOVE.L (A1)+,(160*7)+4(A2)
	MOVE.L (A1)+,(160*8)(A2)
	MOVE.L (A1)+,(160*8)+4(A2)
	MOVE.L (A1)+,(160*9)(A2)
	MOVE.L (A1)+,(160*9)+4(A2)
	MOVE.L (A1)+,(160*10)(A2)
	MOVE.L (A1)+,(160*10)+4(A2)
	MOVE.L (A1)+,(160*11)(A2)
	MOVE.L (A1)+,(160*11)+4(A2)
	MOVE.L (A1)+,(160*12)(A2)
	MOVE.L (A1)+,(160*12)+4(A2)
	MOVE.L (A1)+,(160*13)(A2)
	MOVE.L (A1)+,(160*13)+4(A2)
	MOVE.L (A1)+,(160*14)(A2)
	MOVE.L (A1)+,(160*14)+4(A2)
	MOVE.L (A1)+,(160*15)(A2)
	MOVE.L (A1)+,(160*15)+4(A2)
	MOVE.L (A1)+,(160*16)(A2)
	MOVE.L (A1)+,(160*16)+4(A2)
	MOVE.L (A1)+,(160*17)(A2)
	MOVE.L (A1)+,(160*17)+4(A2)
	MOVE.L (A1)+,(160*18)(A2)
	MOVE.L (A1)+,(160*18)+4(A2)
	MOVE.L (A1)+,(160*19)(A2)
	MOVE.L (A1)+,(160*19)+4(A2)
	MOVE.L (A1)+,(160*20)(A2)
	MOVE.L (A1)+,(160*20)+4(A2)
	MOVE.L (A1)+,(160*21)(A2)
	MOVE.L (A1)+,(160*21)+4(A2)
	MOVE.L (A1)+,(160*22)(A2)
	MOVE.L (A1)+,(160*22)+4(A2)
	MOVE.L (A1)+,(160*23)(A2)
	MOVE.L (A1)+,(160*23)+4(A2)
	MOVE.L (A1)+,(160*24)(A2)
	MOVE.L (A1)+,(160*24)+4(A2)
	MOVE.L (A1)+,(160*25)(A2)
	MOVE.L (A1)+,(160*25)+4(A2)
	MOVE.L #0,(160*26)(A2)
	MOVE.L #0,(160*26)+4(A2)
	MOVE.L #0,(160*27)(A2)
	MOVE.L #0,(160*27)+4(A2)
	MOVE.L #0,(-160*1)(A2)
	MOVE.L #0,(-160*1)+4(A2)
	MOVE.L #0,(-160*2)(A2)
	MOVE.L #0,(-160*2)+4(A2)
	RTS
PUTLLE	MOVEM.L BASURA,D0-D5
	MOVEM.L D0-D5,-160(A2)
	MOVEM.L D0-D5,-160*2(A2)
	MOVEM.L D0-D5,160*25(A2)
	MOVEM.L D0-D5,160*26(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,(A2)
	MOVEM.L D6-D7/A3-A6,160(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*2(A2)
	MOVEM.L D6-D7/A3-A6,160*3(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*4(A2)
	MOVEM.L D6-D7/A3-A6,160*5(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*6(A2)
	MOVEM.L D6-D7/A3-A6,160*7(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*8(A2)
	MOVEM.L D6-D7/A3-A6,160*9(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*10(A2)
	MOVEM.L D6-D7/A3-A6,160*11(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*12(A2)
	MOVEM.L D6-D7/A3-A6,160*13(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*14(A2)
	MOVEM.L D6-D7/A3-A6,160*15(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*16(A2)
	MOVEM.L D6-D7/A3-A6,160*17(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*18(A2)
	MOVEM.L D6-D7/A3-A6,160*19(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*20(A2)
	MOVEM.L D6-D7/A3-A6,160*21(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D5,160*22(A2)
	MOVEM.L D6-D7/A3-A6,160*23(A2)
	MOVEM.L (A1)+,D0-D5
	MOVEM.L D0-D5,160*24(A2)
	RTS
HAZ_RO	LEA FONT,A0
	LEA $F6000+8,A1
	MOVE.W #5-1,D7 ;3 LINEAS
MASA	MOVE.W #10-1,D6 ;10 POR LINEA
TA	ADDQ.W #1,C_LET
	BSR CLS_TR
	BSR COP_LE
	LEA $F6000,A1
	MOVE.W #25-1,D0
	MOVE.W #4-1,D1
	MOVE.W #8-1,D2
	BSR ASRI
	BSR SAVE_L
	LEA $F6000,A1
	MOVE.W #25-1,D0
	MOVE.W #4-1,D1
	MOVE.W #8-1,D2
	BSR ASRI
	BSR SAVE_L
	DBF D6,TA
	DBF D7,MASA
	RTS
NEXT_L	DC.L POSI_L
SAVE_L	MOVEA.L NEXT_L,A1
	LEA $F6000,A0
	REPT 25
	MOVEM.L (A0),D0-D5
	MOVEM.L D0-D5,(A1)
	LEA 160(A0),A0
	LEA 6*4(A1),A1
	ENDR
	MOVE.L A1,NEXT_L
	RTS
ST_LI	LEA DATA_L,A0
	MOVEQ.L #0,D1
LI_D	MOVE.L (A0),D0
	CMP.L #55,D0
	BEQ PA_L
	MOVE.L D0,D2
	MULS #160,D2
	MOVE.L D2,(A0)+
	BRA LI_D
PA_L	REPT 6
	MOVE.L D2,(A0)+
	ENDR
	MOVE.L #-1,(A0)
	RTS
COU_D	DC.W -4
DATA_L	DS.L 30
	DC.L 0,1,2,2,1,0
	DC.L 0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,0,0,0,0
	DC.L 0,0,0,0,0,-1,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,0,0,0,0
	DC.L 0,0,0,0,2,2,2,1,1,0
	DC.L 0,0,0,0,-2,-2,-2,-1,-1,0
	DC.L 0,0,0,1,1,0
	DC.L 0,0,0,-1,-1,0
	DC.L 0,0,1
	DC.L 0,0,-1
	DC.L 0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,0,0,0,0
	DC.L 0,0,0,0,0,-1,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,0,0,0,0
	DC.L 0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,0,0,0,0
	DC.L 0,0,0,0,0,-1,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,0,0,0,0
	DC.L 0,1,2,2,1,0
	DC.L 0,-1,-2,-2,-1,0
	DC.L 0,-1,-2,-2,-1,0
	DC.L 1,1,1,2,2,2,2,1,1,1
	DC.L -1,-1,-1,-2,-2,-2,-2,-1,-1,-1
	DS.L 10
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L -1,-2,-1
	DS.L 40
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 0,1,1,2,2,2,1,1,0
	DC.L 0,-1,-1,-2,-2,-2,-1,-1,0
	DC.L 0,0,1,1,1,2,2,2,2,1,1,1,0,0
	DC.L 0,0,-1,-1,-1,-2,-2,-2,-2,-1,-1,-1,0,0
	DC.L 0,0,0,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,0,0,0
	DC.L 0,0,0,-1,-1,-1,-1,-1,-2,-2,-2,-2,-2,-2,-1,-1,-1,-1,-1,0,0,0
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1	 
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DS.L 30
	DC.L 0,1,1,1,1,2,2,2,2,2,1,1,1,1,0
	DC.L 0,-1,-1,-1,-1,-2,-2,-2,-2,-2,-1,-1,-1,-1,0
	DC.L 0,1,1,1,1,2,2,2,2,2,1,1,1,1,0
	DC.L 0,-1,-1,-1,-1,-2,-2,-2,-2,-2,-1,-1,-1,-1,0
	DC.L 0,1,1,1,1,2,2,2,2,2,1,1,1,1,0
	DC.L 0,-1,-1,-1,-1,-2,-2,-2,-2,-2,-1,-1,-1,-1,0
	DC.L 0,1,1,1,1,2,2,2,2,2,1,1,1,1,0
	DC.L 0,-1,-1,-1,-1,-2,-2,-2,-2,-2,-1,-1,-1,-1,0
	DC.L 0,0,0
	DC.L 55
	DS.L 10
COP_LE	LEA FONT+34,A0
	LEA $F6000,A1
	MOVEQ.L #5-1,D0
	SUB.W D7,D0
	MOVEQ.L #10-1,D1
	SUB.W D6,D1
	MULU #160*25,D0
	MULU #2*8,D1
	ADD.W D1,D0
	LEA 0(A0,D0.W),A0
	REPT 25
	MOVEM.L (A0),D0-D3
	MOVEM.L D0-D3,(A1)
	LEA 160(A1),A1
	LEA 160(A0),A0
	ENDR
	RTS
CLS_TR	LEA $F6000,A0
	MOVEM.L BASURA,A1-A6
	REPT 25
	MOVEM.L A1-A6,(A0)
	LEA 160(A0),A0
	ENDR
	RTS
ASRI	MOVE.W D0,D4
	MOVE.W D1,D5
	MOVEA.L A1,A2
ASCR	MOVEA.L A2,A1
	MOVE.W	D4,D0
ASC1	MOVE.W	D5,D1 
ASC2	MOVE.W #0,CCR
	ROXR	(A1)
	ROXR	8(A1)
	ROXR	$10(A1)
	ROXR	$18(A1)
	ROXR	$20(A1)
	ROXR	$28(A1)
	ADDQ.L	#2,A1
	DBF	D1,ASC2
	ADDA.W	#$98,A1
	DBF	D0,ASC1
	DBF	D2,ASCR	
	RTS
SET_TEX	TST.B $90
	BNE ESPA
	LEA TEXT1,A0
	BRA.S PARAA
ESPA	LEA TEXT,A0
PARAA	LEA TEXT_P,A1
SET_LE	MOVEQ.L #0,D0
	MOVE.B (A0)+,D0
	BMI YA_NE
	CMP.B #'!',D0
	BNE CO1
	MOVE.L #26,D0
	BRA OTO
CO1	CMP.B #'?',D0
	BNE CO2
	MOVE.L #27,D0
	BRA OTO
CO2	CMP.B #':',D0
	BNE CO3
	MOVE.L #28,D0
	BRA OTO
CO3	CMP.B #';',D0
	BNE CO4
	MOVE.L #29,D0
	BRA OTO
CO4	CMP.B #'0',D0
	BNE CO5
	MOVE.L #30,D0
	BRA OTO
CO5	CMP.B #'1',D0
	BNE CO6
	MOVE.L #31,D0
	BRA OTO
CO6	CMP.B #'2',D0
	BNE CO7
	MOVE.L #32,D0
	BRA OTO
CO7	CMP.B #'3',D0
	BNE CO8
	MOVE.L #33,D0
	BRA OTO
CO8	CMP.B #'4',D0
	BNE CO9
	MOVE.L #34,D0
	BRA OTO
CO9	CMP.B #'5',D0
	BNE CO10
	MOVE.L #35,D0
	BRA OTO
CO10	CMP.B #'6',D0
	BNE CO11
	MOVE.L #36,D0
	BRA OTO
CO11	CMP.B #'7',D0
	BNE CO12
	MOVE.L #37,D0
	BRA OTO
CO12	CMP.B #'8',D0
	BNE CO13
	MOVE.L #38,D0
	BRA OTO
CO13	CMP.B #'9',D0
	BNE CO14
	MOVE.L #39,D0
	BRA OTO
CO14	CMP.B #'"',D0
	BNE CO15
	MOVE.L #40,D0
	BRA OTO
CO15	CMP.B #'(',D0
	BNE CO16
	MOVE.L #41,D0
	BRA OTO
CO16	CMP.B #')',D0
	BNE CO17
	MOVE.L #42,D0
	BRA OTO
CO17	CMP.B #',',D0
	BNE CO18
	MOVE.L #43,D0
	BRA OTO
CO18	CMP.B #'-',D0
	BNE CO19
	MOVE.L #44,D0
	BRA OTO
CO19	CMP.B #'.',D0
	BNE CO20
	MOVE.L #45,D0
	BRA OTO
CO20	CMP.B #"'",D0
	BNE CO21
	MOVE.L #46,D0
	BRA OTO
CO21	CMP.B #' ',D0
	BNE CO22
	MOVE.L #47,D0
	BRA OTO
CO22	SUB.B #'A',D0
OTO	MULS #25*3*8*2,D0
	MOVE.L #POSI_L,D1
	ADD.L D0,D1
	MOVE.L D1,(A1)+
	BRA SET_LE
YA_NE	REPT 8
	MOVE.L D1,(A1)+
	ENDR
	MOVE.L #-1,(A1)+
	RTS	
C_DOWN	LEA $F6000+(161*160),A0
	MOVE.W #(160*NU0_H/4)-1,D0
VBORRA	CLR.L (A0)+
	DBF D0,VBORRA
	RTS
C_BUF1	MOVE.W #(NU0_H*160/8)-1,D0
YA	MOVE.L (A0)+,(A1)+
	MOVE.L (A0)+,(A1)+
	DBF D0,YA	
	RTS
CLS_L	LEA $F6000,A1
	MOVE.W #40,D0
CLM	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	MOVE.L #0,(A1)+
	LEA 160-(10*4)(A1),A1
	DBF D0,CLM
	RTS
RTATO	MOVE.W #15-1,D7
MAKE_TA	MOVEA.L NXT_T,A0
	LEA -10*4*NU_H(A0),A0
	BSR COPA
	LEA $F6000,A1
	MOVE.W #NU_H-1,D0
	MOVE.W #4-1,D1
	MOVE.W #1-1,D2
	BSR SRI
	BSR GUARD
	DBF D7,MAKE_TA
	RTS
COPA	LEA $F6000,A1
	MOVE.L D7,OD7
	REPT NU_H
	MOVEM.L (A0)+,D0-D7/A3-A4
	MOVEM.L D0-D7/A3-A4,(A1)
	LEA 160(A1),A1
	ENDR
	MOVE.L OD7,D7
	RTS
GUARD	MOVEA.L NXT_T,A1
	LEA $F6000,A0
	MOVE.L D7,OD7
	REPT NU_H
	MOVEM.L (A0),D0-D7/A3-A4
	MOVEM.L D0-D7/A3-A4,(A1)
	LEA 10*4(A1),A1
	LEA 160(A0),A0
	ENDR		
	MOVE.L A1,NXT_T
	MOVE.L OD7,D7
	RTS
HV_SCFX	ADDQ.W #4,C_H
	ADDQ.W #4,C_V
	MOVE.W C_H,D0
	LEA DT,A0
	LEA 0(A0,D0.W),A0
	MOVE.L 8*(NU_H)(A0),D1
	CMP.L #-1,D1
	BNE ANHAY
	CLR.W C_H
	LEA DT,A0
ANHAY	MOVE.W C_V,D0
	LEA DTV,A6
	LEA 0(A6,D0.W),A6
	MOVE.L A6,L_C_V
	MOVE.L 8*(NU_V)(A6),D1
	CMP.L #-1,D1
	BNE ANOHAY
	CLR.W C_V
	MOVE.L #DTV,L_C_V
ANOHAY	MOVE.L #NU_H-1,D7
ASSX	MOVE.L (A0)+,A1 *A1 EL INC_H DE LA TABLA
	BSR PT_B
	DBF D7,ASSX
	RTS
PT_B	LEA $F6000,A2
	MOVE.L D7,OD7
	MOVE.L D7,D2
	MULU #160,D2 ; CADA LINEA 
	LEA 0(A2,D2.W),A2
	MOVE.L A2,SCD
	MULU #10*4,D7
	LEA 0(A1,D7.L),A1
	MOVE.W #NU_V-1,D6
	MOVEA.L L_C_V,A6
LOOP_V	MOVEA.L SCD,A2
	MOVE.L (A6)+,D0
	LEA 0(A2,D0.W),A2
	MOVE.L (A1),(A2)
	MOVE.L 4(A1),4(A2)
	MOVE.L (A1),(15*8)+0(A2)
	MOVE.L 4(A1),(15*8)+4(A2)
	ADDQ.L #8,A1
	ADDQ.L #8,SCD
	DBF D6,LOOP_V 
	MOVE.L OD7,D7
	RTS
SCD	DS.L 1
ST_DAT	CLR.L D1
	CLR.L D7
	CLR.L D2
	LEA DT(PC),A0
OPPP	MOVE.L (A0),D0
	CMP.W #55,D0
	BEQ PAFUERA
	MOVE.L D7,D1
	ADD.L D0,D1
	MOVE.L D1,D7
	DIVS #16,D1
	CLR.W D1
	SWAP D1
	MULS #10*4*NU_H,D1
	ADD.L #T_POS1,D1
	MOVE.L D1,(A0)+ ;TABLA
	MOVE.L D1,D6
	BRA OPPP 
PAFUERA	REPT NU_H
	MOVE.L D6,(A0)+
	ENDR
	REPT 1
	MOVE.L #-1,(A0)+
	ENDR
	RTS
S_DATD	LEA DTV,A0
	MOVEQ.L #0,D0
MAS_DA	MOVE.L (A0),D1
	CMP.L #55,D1
	BEQ PAFU
	ADD.L D1,D0
	MOVE.L D0,D2
	MULU #160,D2
	MOVE.L D2,(A0)+
	BRA MAS_DA
PAFU	REPT NU_V
	MOVE.L D2,(A0)+
	ENDR
	REPT 1
	MOVE.L #-1,(A0)+
	ENDR
	RTS
DEPACK	MOVE.W #(32000/8)-1,D0
AQWQ	MOVE.L (A0)+,(A1)+
	MOVE.L (A0)+,(A1)+
	DBF D0,AQWQ
	RTS
SRI	MOVE.W D0,D4
	MOVE.W D1,D5
	MOVEA.L A1,A2
SCR	MOVEA.L A2,A1
	MOVE.W	D4,D0
SC1	MOVE.W	D5,D1 
SC2	MOVE.W #0,CCR
	ROXR	(A1)
	ROXR	8(A1)
	ROXR	$10(A1)
	ROXR	$18(A1)
	ROXR	$20(A1)
	ROXR	$28(A1)
	ROXR	$30(A1)
	ROXR	$38(A1)
	ROXR	$40(A1)
	ROXR	$48(A1)
	ROXR	$50(A1)
	ROXR	$58(A1)
	ROXR	$60(A1)
	ROXR	$68(A1)
	ROXR	$70(A1)
	ROXR	$78(A1)
	ROXR	$80(A1)
	ROXR	$88(A1)
	ROXR	$90(A1)
	ROXR	$98(A1)
	ADDQ.L	#2,A1
	DBF	D1,SC2
	ADDA.W	#$98,A1
	DBF	D0,SC1
	DBF	D2,SCR	
SAL1	RTS
ROTTO	MOVE.W #15-1,D7
MAKETA	MOVEA.L NEXT_T,A0
	LEA -12*4*2*NU0_H(A0),A0
	BSR COPIA
	LEA $F6000,A1
	MOVE.W #NU0_H-1,D0
	MOVE.W #4-1,D1
	MOVE.W #1-1,D2
	BSR SRI
	BSR GUARDA
	DBF D7,MAKETA
	RTS
COPIA	LEA $F6000,A1
	MOVE.L D7,OD7
	REPT NU0_H
	MOVEM.L (A0)+,D0-D7/A3-A6
	MOVEM.L D0-D7/A3-A6,(A1)
	MOVEM.L (A0)+,D0-D7/A3-A6
	MOVEM.L D0-D7/A3-A6,12*4(A1)
	LEA 160(A1),A1
	ENDR
	MOVE.L OD7,D7
	RTS
GUARDA	MOVEA.L NEXT_T,A1
	LEA $F6000,A0
	MOVE.L D7,OD7
	REPT NU0_H
	MOVEM.L (A0),D0-D7/A3-A6
	MOVEM.L D0-D7/A3-A6,(A1)
	MOVEM.L 12*4(A0),D0-D7/A3-A6
	MOVEM.L D0-D7/A3-A6,12*4(A1)
	LEA 12*4*2(A1),A1
	LEA 160(A0),A0
	ENDR		
	MOVE.L A1,NEXT_T
	MOVE.L OD7,D7
	RTS
S_BUF	ADDQ.W #8,CTER
	MOVE.W CTER,D0
	LEA DATAX,A0
	LEA 0(A0,D0.W),A0
	MOVE.L 8*(NU0_H)(A0),D1
	CMP.L #-1,D1
	BNE NOHAY
	CLR.W CTER
	LEA DATAX,A0
NOHAY	MOVE.L #NU0_H-1,D7
SSX	MOVEM.L (A0)+,D0/D1 *D0 ES EL INC EN BUF_S D1 EL INC DE LA TABLA
	BSR PUT_B
	DBF D7,SSX
	RTS
PUT_B	MOVE.L D7,OD7
	MOVE.L D7,D2
	MULU #160,D2 ; CADA LINEA 
	ADD.L D2,D0
	MULU #12*4*2,D7
	ADD.L D7,D1
	MOVEA.L D0,A2
	MOVEA.L D1,A1
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D7/A3-A6,(A2)
	MOVEM.L (A1)+,D0-D7/A3-A6
	MOVEM.L D0-D7/A3-A6,12*4(A2)
	MOVEQ.L #0,D0
	MOVE.L D0,12*4*2(A2)
	MOVE.L D0,(12*4*2)+4(A2)
	MOVE.L D0,-4(A2)
	MOVE.L D0,-8(A2)
	MOVE.L OD7,D7
	RTS
STDAT	CLR.L D1
	CLR.L D7
	CLR.L D2
	LEA DAT0_H(PC),A0
	LEA DATAX,A1
OPOP	MOVE.L (A0)+,D0
	CMP.W #55,D0
	BEQ PERA
	MOVE.L D7,D1
	ADD.L D0,D1
	MOVE.L D1,D7
	* EN D1 LA ABSOLUTA YA
	DIVS #16,D1
	CLR.L D2
	MOVE.W D1,D2
	MULS #8,D2
	ADD.L #$F6000+(69*160),D2
	MOVE.L D2,(A1)+ ;INC DE PANTALLA
	CLR.W D1
	SWAP D1
	MULS #12*4*2*NU0_H,D1
	ADD.L #BUFFER,D1
	MOVE.L D1,(A1)+ ;TABLA
	MOVE.L D1,D6
	BRA OPOP 
PERA	REPT NU0_H
	MOVE.L D2,(A1)+
	MOVE.L D6,(A1)+
	ENDR
	REPT 1
	MOVE.L #-1,(A1)+
	MOVE.L #-1,(A1)+
	MOVE.L #-1,(A1)+
	MOVE.L #-1,(A1)+
	ENDR
	RTS
P_RAYO	LEA RAYOS,A0
	MULS #(3*8)*47,D0
	LEA 0(A0,D0.W),A0
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*1(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*2(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*3(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*4(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*5(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*6(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*7(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*8(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*9(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*10(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*11(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*12(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*13(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*14(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*15(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*16(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*17(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*18(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*19(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*20(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*21(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*22(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*23(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*24(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*25(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*26(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*27(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*28(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*29(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*30(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*31(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*32(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*33(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*34(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*35(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*36(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*37(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*38(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*39(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*40(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*41(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*42(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*43(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*44(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*45(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*46(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*47(A1)
	RTS
PUTBALL	LEA FILE,A0
	MULS #(3*8)*47,D0
	LEA 0(A0,D0.W),A0
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*1(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*2(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*3(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*4(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*5(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*6(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*7(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*8(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*9(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*10(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*11(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*12(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*13(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*14(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*15(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*16(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*17(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*18(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*19(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*20(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*21(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*22(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*23(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*24(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*25(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*26(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*27(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*28(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*29(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*30(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*31(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*32(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*33(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*34(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*35(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*36(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*37(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*38(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*39(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*40(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*41(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*42(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*43(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*44(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*45(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*46(A1)
	MOVEM.L (A0)+,D2-D7
	MOVEM.L D2-D7,160*47(A1)
	RTS
pecual	LEA	tvol(PC),A6
	LEA $F6000+(110*160)+80-(8*5)+8,A1
	BSR	pbecu
	LEA	$F6000+(110*160)+80-(8*5)+8+(8*3),A1
	BSR	pbecu
	LEA 	$F6000+(110*160)+80-(8*5)+8+(8*3*2),A1
pbecu	MOVE.W	(A6)+,D1
	LSR.L #1,D1
	MOVEQ.L #7,D0
	SUB.W D1,D0
	BSR PUTBALL	
	RTS
ecual	LEA $FFFF8800,A0
	LEA	tvol(PC),A1
	MOVEQ	#8,D2
	BSR	cvol
	BSR	cvol
cvol	MOVE.B	D2,(A0)
	MOVE.B	(A0),D0
	ANDI.W	#$F,D0
	MOVE.W	(A1),D1
	CMP.W	D0,D1
	BCS	smayor
	SUBQ.W	#1,D1
	BPL	comus
	CLR.W	D1
	BRA	comus
smayor	MOVE.W	D0,D1
comus	MOVE.W	D1,(A1)+
	ADDQ.W	#1,D2
	RTS
PUTSONG	MOVE.L	#SONG2,INITIAL
	MOVE.L	#SONG1,POINTER
	CLR.B	FLAG
	CLR.B	REPFLAG
	CLR.B	TEMPOPT
	MOVE.W #$2700,SR
	MOVE.L $70,OLD70
	MOVE.L #V70WAIT,$70
	MOVE.W #$2300,SR
WAIT	TST.B BUFVBL
	BEQ WAIT
	MOVE.W #$2700,SR
	move.b $fffa07,GFA07
	MOVE.B $FFFA09,GFA09
	MOVE.B $FFFA13,GFA13
	MOVE.B $FFFA1B,GFA1B
	MOVE.B $FFFA21,GFA21
	CLR.B $FFFFFA07.W
	CLR.B $FFFFFA09.W
	MOVE.L #N70,$70
	BCLR #3,$FFFA17 ; ESTA INTERRUPCION ES MUY VALIOSA PUES EN LOS VECTORES DEL MFP NO TIENES QUE PONER LA INTERRUPCION DE ACABADO
	MOVE.W #$2300,SR
	RTS
QUITSNG	CLR.B $FFFFFA07.W
	CLR.B $FFFFFA09.W
	STOP #$2300
	MOVE.W #$2700,SR
	MOVE.L OLD70,$70
	MOVE.B GFA07,$FFFA07
	MOVE.B GFA09,$FFFA09
	MOVE.B GFA13,$FFFA13
	MOVE.B GFA1B,$FFFA1B
	MOVE.B GFA21,$FFFA21
	BSET #3,$FFFA17 ; DESACTIVA INTERRUPCION ACABADO
	MOVE.B OLD01,$FFFF8201.W
	MOVE.B OLD01,$FFFF8203.W
	MOVE.W #$2300,SR
	RTS
R_A	ADDQ.W #1,S_CR
	CMP.W #3,S_CR
	BNE BHH
	CLR.W S_CR
	ADD.W #1,N_RA
BHH	CMP.W #8,N_RA
	BNE LKK
	MOVE.W #0,N_RA
LKK	MOVE.W N_RA,D0
	LEA $F6000+(110*160),A1
	BSR P_RAYO
	MOVE.W N_RA,D0
	ADDQ.W #8,D0
	LEA $F6000+(110*160)+160-(3*8),A1
	BSR P_RAYO
	RTS
N70	MOVEM.L D0-D7/A0-A6,-(A7)
	ST.B SIN
	MOVEM.L PIC+2,D0-D7 DIRECCION PRIMERA PALETA DE COLORES
	MOVEM.L D0-D7,$FF8240 
	OR.B #1,$FFFA07 ;
	OR.B #1,$FFFA13 ;ACTIVA VECTOR CONTADOR RETROCESOS DE LINEA
	CLR.B $FFFA1B
	MOVE.B #L1,$FFFA21; NUMERO LINEA SEGUNDA PALETA DE COLORES
	MOVE.B #8,$FFFA1B
	MOVE.L #V120,$120
	*MOVE.W #$700,$FFFF8240.W * PARA VER EL TIEMPO EN VBL
	BSR ALL
	*MOVE.W #$0,$FFFF8240.W * PARA VER EL TIEMPO
	MOVEM.L (A7)+,D0-D7/A0-A6
	RTE
FILTRO	DS.W 1
ALL	* BSR SONYK
	BSR SCROLL
	BSR pecual
	BSR ecual
	BSR R_A
	BSR HV_SCFX
	BSR S_BUF
	RTS
V70WAIT ST BUFVBL
 	RTE 
V120	MOVEM.L D0-D7,-(SP)
	REPT 65
	NOP ; ESPACIO PARA SYNCRONIZACION
	ENDR
	MOVEM.L PAL2,D0-D7 DIRECCION PRIMERA PALETA DE COLORES
	MOVEM.L D0-D7,$FF8240 
	CLR.B $FFFA1B
	MOVE.B #L2,$FFFA21 ; NUMERO LINEA A PARTIR  DE LA ULTIMA LINEA TERCERA PALETA DE COLORES 
	MOVE.B #8,$FFFA1B 
	MOVE.L #V1202,$120
	MOVEM.L (SP)+,D0-D7
	RTE
V1202	MOVEM.L D0-D7,-(SP)
	ST FILTRO
	REPT 65
	NOP
	ENDR
	MOVEM.L PAL1,D0-D7 DIRECCION PRIMERA PALETA DE COLORES
	MOVEM.L D0-D7,$FF8240 
	CLR.B $FFFA1B
	MOVE.B #L3,$FFFA21; A PARTIR DE LA ULTIMA LINEA
	MOVE.B #8,$FFFA1B
	MOVE.L #V1203,$120
	MOVEM.L (SP)+,D0-D7
	RTE
V1203	MOVEM.L D0-D7,-(SP)
	REPT 65
	NOP
	ENDR
	MOVEM.L PAL3,D0-D7 DIRECCION PRIMERA PALETA DE COLORES
	MOVEM.L D0-D7,$FF8240 
	CLR.B $FFFA1B
	MOVE.B #L4,$FFFA21
	MOVE.B #8,$FFFA1B
	MOVE.L #V1204,$120
	MOVEM.L (SP)+,D0-D7
	RTE
V1204	MOVEM.L D0-D1,-(A7)
	* MOVE.W #$700,$FFFF8240.W
	* REPT 2
	* NOP
	* ENDR
	MOVEQ.L #$19,D0
LOOP1	NOP
	DBF D0,LOOP1
	BCLR #1,$FFFF820A
	MOVE.L #3,D0
LOOP2	NOP
	DBF D0,LOOP2
	BSET #1,$FFFF820A
	CLR.B $FFFFFA1B.W
	BSR SONYK
	MOVEM.L (A7)+,D0-D1
	RTE
CLRLINE	MOVE.L	A6,-(SP)
	MOVE.L	#6,D6
CLRBUC1	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #0,6(A6)
	ADDQ.L	#8,A6
	DBRA	D6,CLRBUC1
	MOVE.L	(SP)+,A6
	MOVE.L	#6,D6
	ADD.L	#160,A6
CLRBUC2	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #0,6(A6)
	ADDQ.L	#8,A6
	DBRA	D6,CLRBUC2
	RTS
SONYK	BCHG	#0,FLAG
	ADDQ.B	#1,TEMPOPT
	CMP.B	#6,TEMPOPT
	BNE	NOOFFL
	MOVE.B	#$E,$FF8800
	MOVE.B	#7,$FF8802
NOOFFL	CMP.B	#2,TEMPOPT
	BNE	NOOFFL2
	LEA	$F6000+(160*38)+54+1280+2,A6
	BSR	CLRLINE
NOOFFL2	CMP.B	#3,TEMPOPT
	BNE	NOOFFL3
	LEA	$F6000+(160*38)+54+1280+2+320,A6
	BSR	CLRLINE
NOOFFL3	CMP.B	#4,TEMPOPT
	BNE	NOOFFL4
	LEA	$F6000+(160*38)+54+1280+2+640,A6
	BSR	CLRLINE
NOOFFL4	CMP.B	#5,TEMPOPT
	BNE	NOOFFL5
	LEA	$F6000+(160*38)+54+1280+2+960,A6
	BSR	CLRLINE
NOOFFL5	CMP.B	#6,TEMPOPT
	BNE	ACTUAL
	LEA	$F6000+(160*38)+54+2+2560,A6
	BSR	CLRLINE
	CLR.B	TEMPOPT
EXTRACT	MOVE.L	POINTER,A0
	MOVE.B	(A0)+,D1
	ADDQ.L	#1,POINTER
	CMP.B	#255,D1
	BNE	OTHCODE
	MOVE.L	INITIAL,POINTER
	CLR.B	FLAG
	CLR.B	TEMPOPT
	BRA	EXTRACT
OTHCODE	CMP.B	#254,D1
	BNE	SCHNOTE
	TST.B	REPFLAG
	BEQ	INSTREP
	CLR.B	REPFLAG
	BRA	EXTRACT
INSTREP	MOVE.B	#1,REPFLAG
	SUB.L	#257,POINTER
	BRA	EXTRACT
SCHNOTE	TST.B	D1
	BEQ	NOTE_A2
	JSR	FINDNOT
	MOVE.B	D5,FINEA_1
	MOVE.B	D6,HARDA_1
	MOVE.L	#VOL_A,POINTA1
	LEA	$F6000+(160*38)+54+1280+2+40,A6
PUTNOTA	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
NOTE_A2	MOVE.B	(A0)+,D1
	ADDQ.L	#1,POINTER
	TST.B	D1
	BEQ	NOTE_B
	JSR	FINDNOT
	MOVE.B	D5,FINEA_2
	MOVE.B	D6,HARDA_2
	MOVE.L	#VOL_A2,POINTA2
	LEA	$F6000+(160*38)+54+1280+2+48,A6
PUTNOTB	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
NOTE_B	MOVE.B	(A0)+,D1
	ADDQ.L	#1,POINTER
	TST.B	D1
	SEQ	BASSFLG
	BEQ	NOTE_C
	JSR	FINDNOT
	MOVE.B	D3,FINEB0
	MOVE.B	D4,HARDB0
	MOVE.B	D5,FINEB1
	MOVE.B	D6,HARDB1
	MOVE.L	#VOL_B,POINTB
	LEA	$F6000+(160*38)+54+1280+2+32,A6
PUTBLED	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
	
NOTE_C	MOVE.B	(A0)+,D1
	ADDQ.L	#1,POINTER
	TST.B	D1
	BEQ	ACTUAL
	CMP.B	#1,D1
	BNE	MAYSNAR
	MOVE.L	#BASSDV,POINTCV
	MOVE.L	#BASSDT,POINTCT
	MOVE.L	#BASSDR,POINTCR
	MOVE.B	#7,$FF8800
	MOVE.B	#%11011000,$FF8802
	MOVE.B	#$E,$FF8800
	MOVE.B	#5,$FF8802
	LEA	$F6000+(160*38)+54+1280+2,A6
LEDBASS	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
	
	BRA	ACTUAL
MAYSNAR	CMP.B	#2,D1
	BNE	MAYPLAT
	MOVE.L	#SNARDV,POINTCV
	MOVE.L	#SNARDT,POINTCT
	MOVE.L	#SNARDR,POINTCR
	MOVE.B	#7,$FF8800
	MOVE.B	#%11011000,$FF8802
	MOVE.B	#$E,$FF8800
	MOVE.B	#1,$FF8802
	LEA	$F6000+(160*38)+54+1280+2,A6
LEDBAS2	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
	LEA	$F6000+(160*38)+54+1280+2+8,A6
LEDSNAR	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
	
	BRA	ACTUAL
MAYPLAT	CMP.B	#3,D1
	BNE	MAYHIHT
	MOVE.L	#PLATDV,POINTCV
	MOVE.L	#PLATDT,POINTCT
	MOVE.L	#PLATDR,POINTCR
	MOVE.B	#7,$FF8800
	MOVE.B	#%11011100,$FF8802
	LEA	$F6000+(160*38)+54+1280+2+16,A6
LEDPLAT	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
	
	BRA	ACTUAL
MAYHIHT	MOVE.L	#HIHTDV,POINTCV
	MOVE.L	#HIHTDT,POINTCT
	MOVE.L	#HIHTDR,POINTCR
	MOVE.B	#7,$FF8800
	MOVE.B	#%11011100,$FF8802
	LEA	$F6000+(160*38)+54+1280+2+24,A6
LEDHIHT	MOVE.B #0,(A6)
	MOVE.B #0,2(A6)
	MOVE.B #0,4(A6)
	MOVE.B #$FF,6(A6)
	MOVE.B #0,(160*1)(A6)
	MOVE.B #0,(160*1)+2(A6)
	MOVE.B #0,(160*1)+4(A6)
	MOVE.B #$FF,(160*1)+6(A6)
	MOVE.B #$0,(160*2)(A6)
	MOVE.B #$FF,(160*2)+2(A6)
	MOVE.B #0,(160*2)+4(A6)
	MOVE.B #$FF,(160*2)+6(A6)
	MOVE.B #$0,(160*3)(A6)
	MOVE.B #$FF,(160*3)+2(A6)
	MOVE.B #0,(160*3)+4(A6)
	MOVE.B #$FF,(160*3)+6(A6)
	MOVE.B #$FF,(160*4)(A6)
	MOVE.B #$FF,(160*4)+2(A6)
	MOVE.B #0,(160*4)+4(A6)
	MOVE.B #$FF,(160*4)+6(A6)
	MOVE.B #$FF,(160*5)(A6)
	MOVE.B #$FF,(160*5)+2(A6)
	MOVE.B #0,(160*5)+4(A6)
	MOVE.B #$FF,(160*5)+6(A6)
	MOVE.B #$0,(160*6)(A6)
	MOVE.B #$0,(160*6)+2(A6)
	MOVE.B #$FF,(160*6)+4(A6)
	MOVE.B #$FF,(160*6)+6(A6)
	MOVE.B #$0,(160*7)(A6)
	MOVE.B #$0,(160*7)+2(A6)
	MOVE.B #$FF,(160*7)+4(A6)
	MOVE.B #$FF,(160*7)+6(A6)
	MOVE.B #$FF,(160*8)(A6)
	MOVE.B #$00,(160*8)+2(A6)
	MOVE.B #$FF,(160*8)+4(A6)
	MOVE.B #$FF,(160*8)+6(A6)
	MOVE.B #$FF,(160*9)(A6)
	MOVE.B #$00,(160*9)+2(A6)
	MOVE.B #$FF,(160*9)+4(A6)
	MOVE.B #$FF,(160*9)+6(A6)
ACTUAL	TST.B	FLAG
	BNE	EXEN_1
	CLR.B	$FF8800
	MOVE.B	FINEA_1,$FF8802
	MOVE.B	#1,$FF8800
	MOVE.B	HARDA_1,$FF8802
	CMP.B	#1,TEMPOPT
	BPL	BASSN
	TST.B	BASSFLG
	BNE	BASSN
	MOVE.B	#2,$FF8800
	MOVE.B	FINEB0,$FF8802
	MOVE.B	#3,$FF8800
	MOVE.B	HARDB0,$FF8802
	BRA	PUT_VOL
BASSN	MOVE.B	#2,$FF8800
	MOVE.B	FINEB1,$FF8802
	MOVE.B	#3,$FF8800
	MOVE.B	HARDB1,$FF8802
	BRA	PUT_VOL
EXEN_1	CLR.B	$FF8800
	MOVE.B	FINEA_2,$FF8802
	MOVE.B	#1,$FF8800
	MOVE.B	HARDA_2,$FF8802
	CMP.B	#1,TEMPOPT
	BPL	BASSN
	TST.B	BASSFLG
	BNE	BASSN
	MOVE.B	#2,$FF8800
	MOVE.B	FINEB0,$FF8802
	MOVE.B	#3,$FF8800
 	MOVE.B	HARDB0,$FF8802
PUT_VOL	TST.B	FLAG
	BNE	DOVOL_2
	MOVE.L	POINTA1,A0
	TST.B	(A0)
	BEQ	PUT0_A1
	ADDQ.L	#1,POINTA1
PUT0_A1	MOVE.B	#8,$FF8800
	MOVE.B	(A0),$FF8802
	BRA	DOVOL_B
DOVOL_2	MOVE.L	POINTA2,A0
	TST.B	(A0)
	BEQ	PUT0_A2
	ADDQ.L	#1,POINTA2
PUT0_A2	MOVE.B	#8,$FF8800
	MOVE.B	(A0),$FF8802
DOVOL_B	MOVE.L	POINTB,A0
	TST.B	(A0)
	BEQ	PUT0_B
	ADDQ.L	#1,POINTB
PUT0_B	MOVE.B	#9,$FF8800
	MOVE.B	(A0),$FF8802
	MOVE.L	POINTCV,A0
	TST.B	(A0)
	BEQ	PUT0_C
	ADDQ.L	#1,POINTCV
PUT0_C	MOVE.B	#10,$FF8800
	MOVE.B	(A0),$FF8802
DRUMMER	MOVE.L	POINTCT,A0
	TST.B	(A0)
	BEQ	PUT0_T
	ADDQ.L	#1,POINTCT
	MOVE.B	#5,$FF8800
	MOVE.B	(A0),$FF8802
	BRA	DRUM_R
PUT0_T	MOVE.B	#7,$FF8800
	MOVE.B	#%11011100,$FF8802
DRUM_R	MOVE.L	POINTCR,A0
	TST.B	(A0)
	BEQ	PUT0_R
	ADDQ.L	#1,POINTCR
	MOVE.B	#6,$FF8800
	MOVE.B	(A0),$FF8802
	BRA	EXIT
PUT0_R	MOVE.B	#7,$FF8800
	MOVE.B	#%11111000,$FF8802
EXIT	* BCLR	#$05,$FFFA0B
	* BCLR	#$05,$FFFA0F
	RTS
*
* FINDNOT
*
FINDNOT	LEA	TABLES,A6
FIND_1	MOVE.B	(A6),D5
	MOVE.B	1(A6),D6
	MOVE.B	24(A6),D3
	MOVE.B	25(A6),D4
	CMP.B	#1,D1
	BNE	FIND_2
	RTS
FIND_2	SUBQ.B	#1,D1
	ADDQ.L	#2,A6
	BRA	FIND_1
*
INIT_YM	DC.B	0,0,1,0,2,0,3,0,4,0,5,0,6,0,7,248,8,0,9,0,10,0,11,0,12,0,13,0,255,0
*
* TABLAS
*
TABLES	DC.B	0,15,23,14,77,13,142,12,217,11,47,11,142,10,247,9,103,9,224,8,97,8,232,7
	DC.B	119,7,11,7,166,6,71,6,236,5,151,5,71,5,251,4,179,4,112,4,48,4,244,3
	DC.B	187,3,133,3,83,3,35,3,246,2,203,2,163,2,125,2,89,2,56,2,24,2,250,1
	DC.B	221,1,194,1,169,1,145,1,123,1,101,1,81,1,62,1,44,1,28,1,12,1,255,0
	DC.B	238,0,225,0,212,0,200,0,189,0,178,0,168,0,159,0,150,0,142,0,134,0,126,0
	DC.B	119,0,112,0,106,0,100,0,94,0,89,0,84,0,79,0,75,0,71,0,67,0,63,0
	DC.B	59,0,56,0,53,0,50,0,47,0,42,0,39,0,36,0,34,0
*
* VOLUMENS
*
VOL_A	DC.B	12,14,12,11,11,10,11,12,11,10,9,10,11,10,9,8,7,8,9,10,9,8,9,10,9,8,7,6,7,6,5,4,3,5,6,7,8,5,4,3,2,1,0
VOL_A2	DC.B	12,14,12,11,10,9,10,11,10,9,10,11,10,9,10,9,8,9,7,6,5,4,5,6,5,4,3,4,5,6,7,6,5,4,3,2,3,4,5,6,7,8,9,10,11,9,7,5,4,3,2,1,0
VOL_B	DC.B	15,14,14,14,13,13,13,13,13,12,12,12,12,12,12,11,11,11,11,10,10,10,9,9,9,8,8,7,7,6,6,5,5,4,4,3,3,2,2,1,1,0
BASSDV	DC.B	15,15,14,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0
SNARDV	DC.B	15,15,14,14,14,13,13,13,12,12,12,11,11,11,11,10,10,10,9,9,9,8,7,6,5,5,4,4,3,3,2,2,1,1,0
PLATDV	DC.B	13,11,9,5,2,0
HIHTDV	DC.B	15,13,12,11,10,8,4,0
*
* TONS
*
BASSDT	DC.B	2,3,4,5,4,3,4,5,6,7,8,9,10,0
SNARDT	DC.B	1,2,3,4,5,0
PLATDT	DC.B	0,0
HIHTDT	DC.B	0,0
*
* SOROLLS
*
BASSDR	DC.B	9,0
SNARDR	DC.B	9,10,10,10,10,11,11,11,11,12,12,12,13,13,13,14,14,15,15,16,16,17,17,18,19,20,21,22,23,24,0
PLATDR	DC.B	1,2,3,4,4,5,5,5,6,6,6,6,7,7,7,7,7,0
HIHTDR	DC.B	1,2,3,4,5,6,7,7,7,7,7,7,7,7,7,7,7,0
*
* CAN‡O
*
SONG1	DC.B	0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,2,0,0,0,0
	DC.B	0,0,9,1,0,0,21,0,0,0,0,0,0,0,9,0,0,0,21,1,0,0,0,0,0,0,9,0,0,0,21,0,0,0,0,1,0,0,9,0,0,0,14,0,0,0,16,0,0,0,12,1,0,0,0,0,0,0,9,0,0,0,0,0
	DC.B	0,0,9,1,0,0,21,0,0,0,0,0,0,0,9,0,0,0,21,1,0,0,0,0,0,0,9,0,0,0,21,0,0,0,0,1,0,0,9,0,0,0,14,0,0,0,16,0,0,0,12,1,0,0,0,0,0,0,9,1,0,0,0,0
	DC.B	0,0,9,1,0,0,21,3,0,0,0,3,0,0,9,3,0,0,21,1,0,0,0,3,0,0,9,3,0,0,21,3,0,0,0,1,0,0,9,3,0,0,14,3,0,0,16,3,0,0,12,1,0,0,0,3,0,0,9,3,0,0,0,3
	DC.B	0,0,9,1,0,0,21,3,0,0,0,3,0,0,9,3,0,0,21,1,0,0,0,3,0,0,9,3,0,0,21,3,0,0,0,1,0,0,9,3,0,0,14,3,0,0,16,2,0,0,12,2,0,0,0,0,0,0,9,2,0,0,0,0
*
SONG2	DC.B	43,43,9,1,0,0,0,3,45,45,8,3,0,0,9,3,45,57,9,2,0,0,0,0,43,43,9,3,00,00,9,3,45,45,9,1,0,0,12,3,43,43,12,3,45,57,12,3,00,00,12,2,43,43,12,0,45,45,12,3,43,43,12,3
	DC.B	48,48,9,1,0,0,0,3,45,45,8,3,0,0,9,3,48,60,9,2,0,0,0,0,48,48,9,3,48,48,9,3,50,50,9,1,0,0,12,3,50,50,12,3,43,55,12,3,43,43,12,2,43,43,12,0,43,43,12,3,43,43,12,2
	DC.B	43,43,9,1,0,0,0,3,45,45,8,3,0,0,9,3,45,57,9,2,0,0,0,0,43,43,9,3,00,00,9,3,45,45,9,1,0,0,12,3,43,43,12,3,45,57,12,3,00,00,12,2,43,43,12,0,45,45,12,3,43,43,12,3
	DC.B	48,48,9,1,0,0,0,3,45,45,8,3,0,0,9,3,48,60,9,2,0,0,0,0,48,48,9,3,48,48,9,3,50,50,9,1,0,0,12,3,50,50,12,3,43,55,12,3,43,43,12,2,43,43,12,2,43,43,12,2,43,43,12,2
*
	DC.B	41,65,17,1,48,0,17,3,0,0,0,4,41,65,17,3,45,0,17,2,0,0,0,0,41,65,17,4,45,0,17,3,0,0,0,1,41,65,17,3,45,0,17,4,00,0,17,3,41,65,17,2,00,0,00,0,45,65,17,4,41,0,00,3
	DC.B	43,67,19,1,48,0,19,3,0,0,0,4,43,67,19,3,47,0,19,2,0,0,0,0,43,67,19,4,47,0,19,3,0,0,0,1,43,67,19,3,47,0,19,4,47,0,19,3,47,67,19,2,47,0,19,0,48,67,21,4,47,0,19,2
	DC.B	41,65,17,1,48,0,17,3,0,0,0,4,41,65,17,3,45,0,17,2,0,0,0,0,41,65,17,4,45,0,17,3,0,0,0,1,41,65,17,3,45,0,17,4,00,0,17,3,41,65,17,2,00,0,00,0,45,65,17,4,41,0,00,3
	DC.B	43,67,19,1,48,0,19,3,0,0,0,4,43,67,19,3,47,0,19,2,0,0,0,0,43,67,19,4,47,0,19,3,0,0,0,1,43,67,19,3,47,0,19,4,47,0,19,3,47,67,19,2,47,0,19,2,48,67,21,2,47,0,19,2
*
	DC.B	33,33,9,1,45,45,0,3,0,0,9,3,33,33,9,3,45,45,21,2,0,0,0,0,33,33,9,3,45,45,19,3,0,0,0,1,33,33,9,3,38,38,16,3,40,40,0,3,36,36,19,2,0,0,0,0,33,33,21,3,0,0,0,3
	DC.B	33,33,9,1,45,45,0,3,0,0,9,3,33,33,9,3,45,45,21,2,0,0,0,0,33,33,9,3,60,48,19,3,60,48,0,1,60,48,9,3,59,47,16,3,59,47,0,3,55,43,14,2,55,43,0,0,52,40,12,3,52,40,0,2
	DC.B	33,33,9,1,45,45,0,3,0,0,9,3,33,33,9,3,45,45,21,2,0,0,0,0,33,33,9,3,45,45,19,3,0,0,0,1,33,33,9,3,38,38,16,3,40,40,0,3,36,36,19,2,0,0,0,0,33,33,21,3,0,0,0,3
	DC.B	33,33,9,1,45,45,0,3,0,0,9,3,33,33,9,3,45,45,21,2,0,0,0,0,33,33,9,3,60,48,19,3,60,48,0,1,60,48,9,3,59,47,16,3,59,47,0,3,55,43,14,2,55,43,0,2,52,40,12,2,52,40,0,2
*
	DC.B	0,0,9,1,0,0,9,3,0,0,0,3,0,0,9,3,0,0,19,2,0,0,16,0,0,0,14,3,0,0,12,3
	DC.B	0,0,9,1,0,0,9,3,0,0,0,3,0,0,9,3,0,0,19,2,0,0,16,0,0,0,14,3,0,0,12,3
	DC.B	0,0,9,1,0,0,9,3,0,0,0,3,0,0,9,3,0,0,19,2,0,0,16,0,0,0,14,3,0,0,12,3
	DC.B	0,0,9,1,0,0,9,3,0,0,0,3,0,0,9,3,0,0,19,2,0,0,16,0,0,0,14,3,0,0,12,3
*
	DC.B	21,21,9,1,28,28,9,3,33,33,9,3,31,31,9,3,0,0,21,2,0,0,0,0,48,36,21,3,48,36,19,3,0,0,0,1,47,35,19,3,0,0,0,3,45,33,19,3,0,0,19,2,43,31,0,0,0,0,19,3,0,0,19,3
	DC.B	57,45,9,1,0,0,9,3,0,0,9,3,57,45,9,3,0,0,21,2,57,45,0,0,52,40,21,3,0,0,19,3,0,0,0,1,0,0,19,3,0,0,0,3,0,0,19,3,0,0,19,2,0,0,0,0,0,0,19,3,0,0,19,2
	DC.B	21,21,9,1,28,28,9,3,33,33,9,3,31,31,9,3,0,0,21,2,0,0,0,0,48,36,21,3,48,36,19,3,0,0,0,1,47,35,19,3,47,35,0,3,0,0,19,3,45,33,19,2,0,0,0,0,45,33,19,3,0,0,19,3
	DC.B	45,33,9,1,0,0,9,3,0,0,9,3,0,0,9,3,0,0,21,2,0,0,0,0,0,0,21,3,0,0,19,3,0,0,0,1,0,0,19,3,0,0,0,3,0,0,19,3,0,0,19,2,57,45,21,2,55,43,19,2,57,45,21,2
*
	DC.B	60,48,17,1,0,0,0,3,59,47,17,4,0,0,0,3,57,45,17,2,0,0,17,0,55,43,17,4,62,50,19,3,0,0,0,1,62,50,19,3,60,48,0,4,0,0,19,3,59,47,19,2,0,0,0,0,57,45,19,4,0,0,19,3
	DC.B	57,45,21,1,0,0,0,3,00,00,21,4,0,0,0,3,00,00,21,2,0,0,21,0,00,00,21,4,00,00,19,3,0,0,0,1,00,00,19,3,00,00,0,4,0,0,19,3,00,00,19,2,0,0,21,0,00,00,19,4,0,0,21,2
	DC.B	60,48,17,1,0,0,0,3,59,47,17,4,0,0,0,3,57,45,17,2,0,0,17,0,55,43,17,4,62,50,19,3,0,0,0,1,62,50,19,3,60,48,0,4,0,0,19,3,59,47,19,2,0,0,0,0,57,45,19,4,0,0,19,3
	DC.B	57,45,21,1,0,0,0,3,00,00,21,4,0,0,0,3,00,00,21,2,0,0,21,0,00,00,21,4,00,00,19,3,0,0,0,1,00,00,19,3,00,00,0,4,0,0,19,3,00,00,19,2,0,0,21,2,00,00,19,2,0,0,21,2
*
	DC.B	60,48,17,1,0,0,0,3,59,47,17,4,0,0,0,3,57,45,17,1,0,0,17,3,55,43,17,4,62,50,19,3,0,0,0,1,62,50,19,3,60,48,0,4,0,0,19,3,59,47,19,1,0,0,0,3,57,45,19,4,0,0,19,3
	DC.B	57,45,21,1,0,0,0,3,00,00,21,4,0,0,0,3,00,00,21,1,0,0,21,3,00,00,21,4,00,00,19,3,0,0,0,1,00,00,19,3,00,00,0,4,0,0,19,3,00,00,19,1,0,0,21,3,00,00,19,4,0,0,21,3
	DC.B	60,48,17,1,0,0,0,3,59,47,17,4,0,0,0,3,57,45,17,1,0,0,17,3,55,43,17,4,62,50,19,3,0,0,0,1,62,50,19,3,60,48,0,4,0,0,19,3,59,47,19,1,0,0,0,3,57,45,19,4,0,0,19,3
	DC.B	57,45,21,2,0,0,0,0,00,00,21,2,0,0,0,0,00,00,21,2,0,0,21,0,00,00,21,2,00,00,19,0,0,0,0,2,00,00,19,2,00,00,0,2,0,0,19,2,00,00,19,2,0,0,21,0,00,00,19,2,0,0,21,0
*
	DC.B	255
*
BASSFLG	DS.B	1
*
* VARIABLES SONYK
*
FLAG	DS.B	1
REPFLAG	DS.B	1
INITIAL	DS.L	1
POINTER	DS.L	1
FINEA_1	DS.B	1
FINEA_2	DS.B	1
FINEB0	DS.B	1
FINEB1	DS.B	1
HARDA_1	DS.B	1
HARDA_2	DS.B	1
HARDB0	DS.B	1
HARDB1	DS.B	1
POINTA1	DS.L	1
POINTA2	DS.L	1
POINTB	DS.L	1
POINTCV	DS.L	1
POINTCT	DS.L	1
POINTCR	DS.L	1
TEMPOPT	DS.B	1
FILLA	DC.W -1
BASURA	DS.L 16
CTER	DC.W -8 
NEXT_T	DC.L BUFFER
PAL2	DC.W 0,$700,$776,$720,$730,$750,$770,$400,$555,$023,$034
	DC.W $046,$057,$067,$377,$777
tvol	DS.W 3
S_CR	DS.W 1	
GFA07	DS.B 1
GFA09	DS.B 1
TIMER	DS.W 1
GFA13	DS.B 1
GFA1B	DS.B 1
GFA21	DS.B 1
BUFVBL  DC.B 0
SIN	DS.W 1
OLD70	DS.L 1
OLDR	DS.L 2	
C_LET	DC.W 0
N_RA	DC.W -1
OD7	DS.L 2	 	
DAT0_H	REPT 1
	DS.L NU0_H
	DC.L 0,0,1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,4,4,4,4,3,3,3,2,2,1,0
	DS.L 70
	DC.L 0,-1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1,0,0
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DS.L 70
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,1
	DC.L -1,-2,-1
	DC.L 1,2,3,3,4,4,4,5,5,5,5,4,4,4,3,3,2,1
	DS.L 70
	DC.L -1,-2,-3,-3,-4,-4,-4,-5,-5,-5,-5,-4,-4,-4,-3,-3,-2,-1
	DS.L 70
	DC.L 1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,6,6,6,6,6,5,5,5,5,5,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-6,-6,-6,-6,-6,-6,-5,-5,-5,-5,-5,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	DC.L 1,-1
	
	DC.L 1,2,0,3,0,0,4,0,0,0,5,0,0,0,0,6,0,0,0,0,0,6,0,0,0,0,5,0,0,0,4,0,0,3,0,2,1	
	DC.L -1,-2,0,-3,0,0,-4,0,0,0,-5,0,0,0,0,-6,0,0,0,0,0,-6,0,0,0,0,-5,0,0,0,-4,0,0,-3,0,-2,-1	
	DS.L 70
	DC.L 1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,6,6,6,6,6,5,5,5,5,5,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-6,-6,-6,-6,-6,-6,-5,-5,-5,-5,-5,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,6,6,6,6,6,5,5,5,5,5,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-6,-6,-6,-6,-6,-6,-5,-5,-5,-5,-5,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1
	DC.L -1
	DS.L 70
	DC.L 1
	DC.L -1
	DC.L 1,2,2,1
	DC.L -1,-2,-2,-1
	DC.L 1,2,2,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,4,4,4,4,3,3,3,2,2,1
	DC.L -1,-2,-2,-3,-3,-3,-4,-4,-4,-4,-5,-5,-5,-5,-5,-4,-4,-4,-4,-3,-3,-3,-2,-2,-1
	DC.L 55
	ENDR
DIR_D	DS.L 1
DT	DS.L NU_H
	REPT 6
	DC.L 0,1,2,2,3,2,2,1,0
	DC.L 0,-1,-2,-2,-3,-2,-2,-1,0
	ENDR
	REPT 5
	DC.L 0,1,2,2,2,2,1,0
	DC.L 0,-1,-2,-2,-2,-2,-1,0
	ENDR
	REPT 4
	DC.L 0,1,2,2,1,0
	DC.L 0,-1,-2,-2,-1,0
	ENDR
	REPT 4
	DC.L 0,1,1,0
	DC.L 0,-1,-1,0
	ENDR
	DC.L 55	
	DS.L NU_H
	DS.L 1
DTV	REPT 50
	DC.L 1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1
	DC.L -1,0,-1,-1,0,-1,-1,-1,0,-1,-1,-1,-1,0,-1,-1,-1,0,-1,-1,0,-1
	ENDR
	DC.L 55
	DS.L NU_V
	DS.L 1	
C_H	DC.W -8 
C_V	DC.W -8
L_C_V	DS.L 1
NXT_T	DC.L T_POS1
PAL1	DC.W $000,$200,$300,$500,$700,$710,$720,$730,$740,$750,$760,$770,$772,$774,$776,$777
PAL3	DS.W 16
TEXT1	DC.B '         HELLO GUYS, THE DELIVERANCE PRESENTS THIS DEMO CALLES "ELECTRICITY DEMO". THE NAME '
	DC.B "WAS AN IMPROVISATION BECAUSE I DIDN'T TAKE INTO MY HEAD HOW TO NAME THIS AND AFTER FLEETING INSPIRATION I WROTE THAT. "
	DC.B "OK, LETTING NOSENSES OFF I WANT TO TELL YOU TAHT THIS DEMO IS THE FIRST (AND I HOPE NOT THE LAST) I'VE MADE. "
	DC.B "AFTER THAT IS QUITE GOOD CONSIDERING -AS I TOLD YOU BEFORE- IS THE FIRST I'VE MADE. THE CRETITS OF THIS DEMO ARE COMING: "
	DC.B 'CODING: RED DEVIL AND GAL, MUZAK :?? ( I FOUND THIS MUZAK ON A FILE CALLED LEDSONIK, I HOPE ITS CREATOR'
	DC.B -1
	DS.B 8
TEXT	REPT 1
	DC.B '         HOLA AMIGOS, THE DELIVERANCE PRESENTA ESTA DEMO LLAMADA "ELECTRICITY DEMO". EL NOMBRE '
	DC.B 'HA SIDO COSA DE ULTIMA HORA PUES NO SE ME OCURRIA COMO LLAMAR A ESTA DEMO Y TRAS UNA FUGAZ INSPIRACION PUSE ESO.'
	DC.B 'DEJANDOME DE TONTERIAS QUIERO DECIR QUE ESTA DEMO HA SIDO LA PRIMERA (Y ESPERO QUE NO LA ULTIMA) QUE HE REALIZADO.'
	DC.B 'DESPUES DE ESTO ESTA BASTANTE BIEN SI, COMO YA TE DIGO ES LA PRIMERA QUE HAGO. LOS CREDITOS DE LA DEMO VIENEN A SER '
	DC.B 'ESTOS... PROGRAMACION: RED DEVIL Y GAL, MUSICA: ?? (ENCONTRE LA MUSICA EN UN FICHERO LLAMADO LEDSONIK, ESPERO QUE SU '
	DC.B 'CREADOR NO SE CABREE POR HABERLA PUESTO, ES MAS, QUE LO CONSIDERE COMO UNA MUESTRA DE QUE ES BUENA...), GRAFICOS: '
	DC.B 'RED DEVIL (EXCEPTO PARTE DEL FONT). BUENO HASTA AHI LOS CREDITOS, AHORA TE RECUERDO LOS MIEMBROS DE "THE DEVIVERANCE", EMPIEZO: '
	DC.B 'ALEATUM (ACTIVO AUNQUE NO HAYA HECHO NADA EN ESTA DEMO), GAL (ACTIVO Y TRABAJANDO EN EL MANEJO DE INTERRUPCIONES (QQQQUUUE???? NADA JERGA DEL 68000), '
	DC.B 'SCRATCHIN (ACTIVO. ACTUALMENTE ESTA HACIENDO UNAS MUSICAS QUE VAN A DAR QUE HABLAR... YA LAS VERAS EN NUESTRA SIGUIENTE DEMO...), RED DEVIL (ESE SOY YO!), '
	DC.B 'CAPTAIN SPOOK (INACTIVO. YO NI LE CONOZCO), TRUAN (INACTIVO), RED SKIN (INACTIVO). BUENO TRAS ESTE ROLLO TE CONTARE UN POCO '
	DC.B 'COMO NOS METIMOS EN ESTO DE LAS DEMOS.......... UN DIA, YO (RED DEVIL) ESTABA POR AQUI Y OI EL TELEFONO, ERA RUNAWAY DE ELECTROSOFT '
	DC.B 'QUE ME LLAMABA PARA PEDIR UNOS DISCOS QUE LE DEBIA, ME COMENTO ALGO DE UN GRUPO QUE ESTABA HACIENDO COSAS EN 68000, PERO YO PASE UN POCO '
	DC.B 'PUES PENSE QUE NO SERIA GRAN COSA. UN MES DESPUES HABLE CON ALEATUM Y ME DIJO QUE HABIA HABLADO CON UN TAL "CANAL 23" QUE ESTABA HACIENDO UNA DEMO, '
	DC.B 'ESTO ME RECORDO A LO QUE ME DIJO RUNAWAY, Y ALEATUM TENIA 2 "PREVIEWS" DE LAS DEMOS DE LOS XTC Y ME LAS MANDO. ME PARECIERON BASTANTE BUENAS Y COMENCE A '
	DC.B 'HACER RUTINAS DE GRAFICOS Y CHORRADAS, PORQUE YA ESTABA HARTO DE LOS MENUS COMPACTOS. HABLE CON EL CANAL 23 Y ME DIJO QUE SI LA DEMO '
	DC.B 'ESTABA BIEN LA PONIA CON LAS SUYAS, GAL Y YO EMPEZAMOS A HACER RUTINAS MAS EN SERIO Y TRAS MUCHAS VERSIONES Y PRUEBAS AQUI HA SALIDO ESTA DEMO. '
	DC.B 'LA IDEA ORIGINAL DIFIERE MUCHO DE ESTE ASPECTO QUE HOY PRESENTA, PUES EL SCROLL, LOS RAYOS Y EL OVERSCAN LOS HICE EN SOLO UN FIN DE SEMANA!!! '
	DC.B 'AL TIEMPO QUE ESCRIBO ESTE SCROLL PIENSO QUE LO DEBO DE PASAR LUEGO A INGLES Y NO SE COMO ME LAS VOY A ARREGLAR. BUENO, COMO '
	DC.B 'YA OS DIGO GAL, SCRATCHIN Y YO (RED DEVIL) HACEMOS DEMOS, MIENTRAS QUE ALEATUM HACE COMPACTOS...'
	DC.B 'LA VERDAD ES QUE AHORA HE DE PONER LOS SALUDOS PUES EN EL SCROLL PRINCIPAL ESTAN LOS DE LOS XTC.... '
	DC.B 'EMPIEZO SIN NINGUN ORDEN : TODOS LO MIEMBROS DEL GRUPO, XTC, ELECTRO SOFT (QUE TE PARECE LA DEMO, RUNAWAY!), TCB (VUESTRAS CUDDLY DEMOS ESTAN BASTANTE '
	DC.B 'MEJOR QUE ESTA, PERO AL MENOS DECIMOS LA VERDAD. ESPERO QUE NOS RESPONDAIS LA CARTA...AH! SEGUIR EN LAS DEMOS, PUES SOIS LOS MAESTROS DEL ST!), '
	DC.B 'RIPPER, JORDI AND JORDI (HE MEJORADO DESDE LA ULTIMA VEZ QUE NOS VIMOS, ESPERO QUE VOSOTROS TAMBIEN!), AUTOMATION (BUENOS COMPACTOS..), THE MEDWAY BOYS (IGUALMENTE..) '
	DC.B 'POLIYO, CARLITOS, IVAN, MCA, THE REPLICANTS (BUENAS INTROS!), THE LOST BOYS (BUENA DEMO CHICOS!), MR FRASER (HOLA!), DELIGHT, LEVEL 16, TEX, THE UNION, '
	DC.B 'Y EN FIN, A TODOS LOS QUE ESTAIS DELANTE DE EL MONITOR LEYENDO A TODA VELECIDAD LAS PARIDAS QUE PONE UN PROGRAMADOR. BUENO YA ESTA BIEN POR HOY, SI ALGUIEN '
	DC.B 'CONSIGUE DESPROTEGUER LA DEMOS (LA PROTECION ERA DE GAL!) QUE BUSQUE POR ESTA DEMO Y ENCONTRARA UNA DIRECCION EN LA QUE ENCONTRARA RESPUESTA SEGURA, MUCHO MAS '
	DC.B 'QUE LA DADA EN OTRO LUGAR. ASI QUE A QUITAR LA PROTECCION! ADIOS CHICOS......         '
  	ENDR
	DC.B -1
	DS.B 8
E_TEXT	DS.W 1
TEXT_P	DS.L (E_TEXT-TEXT)*2
POSI_L	DS.B 50*25*3*8*2
TAPADE	DS.B 26*8
DATAX	DS.W 1
FONT	INCBIN 'A:\FONT.PI1'
RAYOS	INCBIN 'A:\RAYOS.DAT'
	DS.B 8*3
FILE	INCBIN 'A:\BOLAS.DAT'
	DS.B 8*3
PIC	INCBIN 'A:\SCREEN1.PI1'
HELLO	DS.W 1
T_POS1	DS.L 10*NU_H*16 ;YA ESTA POR 4 EN .L
BUFFER	DS.W 0 * BUFFER	DS.W NU0_H*16*12*4
 




